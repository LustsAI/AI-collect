{
  "last_node_id": 55,
  "last_link_id": 90,
  "nodes": [
    {
      "id": 29,
      "type": "CLIPTextEncode",
      "pos": [
        7620,
        5074.211213484329
      ],
      "size": [
        400,
        200
      ],
      "flags": {
        "collapsed": true
      },
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 42,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            62
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(((masterpiece))),(((best quality))),((ultra-detailed)),realstic"
      ],
      "color": "rgba(0,0,0,.8)",
      "locked": true
    },
    {
      "id": 30,
      "type": "CLIPTextEncode",
      "pos": [
        7620,
        5134.211213484329
      ],
      "size": [
        400,
        200
      ],
      "flags": {
        "collapsed": true
      },
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 43,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            40,
            86
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "nsfw"
      ],
      "color": "rgba(0,0,0,.8)",
      "locked": true
    },
    {
      "id": 36,
      "type": "CR Load LoRA",
      "pos": [
        6790,
        5024.211213484329
      ],
      "size": [
        339.1977233886719,
        170
      ],
      "flags": {
        "pinned": false
      },
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 56,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 57,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            58
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            59
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": [],
          "shape": 3,
          "slot_index": 2,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Load LoRA"
      },
      "widgets_values": [
        "Off",
        "None",
        0.8,
        1
      ],
      "color": "rgba(0,0,0,.8)",
      "locked": true
    },
    {
      "id": 37,
      "type": "CR Load LoRA",
      "pos": [
        7270,
        5024.211213484329
      ],
      "size": [
        339.1977233886719,
        170
      ],
      "flags": {
        "pinned": false
      },
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 58,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 59,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            38,
            84
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            42,
            43
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": [],
          "shape": 3,
          "slot_index": 2,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Load LoRA"
      },
      "widgets_values": [
        "Off",
        "None",
        0.8,
        1
      ],
      "color": "rgba(0,0,0,.8)",
      "locked": true
    },
    {
      "id": 40,
      "type": "ControlNetApply",
      "pos": [
        6630,
        5574.211213484329
      ],
      "size": [
        317.4000244140625,
        98
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 62,
          "label": "条件",
          "slot_index": 0
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 63,
          "label": "ControlNet",
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 64,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            65
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        1
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 41,
      "type": "ControlNetLoader",
      "pos": [
        5990,
        5314.211213484329
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            63
          ],
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "control_v11p_sd15_canny.pth"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 43,
      "type": "AIO_Preprocessor",
      "pos": [
        6000,
        5504.211213484329
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 73,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            64
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "AIO_Preprocessor",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "CannyEdgePreprocessor",
        512
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 44,
      "type": "AIO_Preprocessor",
      "pos": [
        5990,
        5884.211213484329
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 72,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            67
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "AIO_Preprocessor",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "TilePreprocessor",
        512
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 45,
      "type": "ControlNetLoader",
      "pos": [
        6000,
        5704.211213484329
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            66
          ],
          "shape": 3,
          "label": "ControlNet"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "control_v11f1e_sd15_tile.pth"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 8,
      "type": "ImageSender",
      "pos": [
        4995,
        5254.581802394408
      ],
      "size": [
        295.7336120605469,
        294.0001220703125
      ],
      "flags": {
        "collapsed": false,
        "pinned": false
      },
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 9,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageSender",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "ImgSender",
        4
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 50,
      "type": "SaveImage",
      "pos": [
        5468,
        5263.581802394408
      ],
      "size": [
        315,
        270.00018310546875
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 71,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 52,
      "type": "SaveImage",
      "pos": [
        6307.733386675689,
        6950.9901781926865
      ],
      "size": [
        1534.3226318359375,
        1765.5760498046875
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 75,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 24,
      "type": "CLIPTextEncode",
      "pos": [
        3997,
        5648.581802394408
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 31,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            29
          ],
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        ""
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 5,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        4027,
        5997.581802394408
      ],
      "size": [
        315,
        78
      ],
      "flags": {
        "pinned": false
      },
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [],
          "shape": 3,
          "label": "BBox检测",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            8
          ],
          "shape": 3,
          "label": "SEGM检测",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 7,
      "type": "SAMLoader",
      "pos": [
        3484,
        5977.581802394408
      ],
      "size": [
        315,
        82
      ],
      "flags": {
        "pinned": false
      },
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            7
          ],
          "shape": 3,
          "label": "SAM模型",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "AUTO"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 6,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        3475,
        6178.581802394408
      ],
      "size": [
        315,
        78
      ],
      "flags": {
        "pinned": false
      },
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            6
          ],
          "shape": 3,
          "label": "BBox检测",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [],
          "shape": 3,
          "label": "SEGM检测",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 4,
      "type": "CLIPLoader",
      "pos": [
        3401,
        5410.581802394408
      ],
      "size": [
        445.2817687988281,
        153.303466796875
      ],
      "flags": {
        "pinned": false
      },
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            17
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "Stable-Cascade\\model.safetensors",
        "stable_diffusion"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 42,
      "type": "ControlNetApply",
      "pos": [
        7060,
        5574.211213484329
      ],
      "size": [
        317.4000244140625,
        98
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 65,
          "label": "条件",
          "slot_index": 0
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 66,
          "label": "ControlNet",
          "slot_index": 1
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 67,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            39,
            85
          ],
          "shape": 3,
          "label": "条件",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApply",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        1
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 31,
      "type": "VAEEncode",
      "pos": [
        6020,
        6084.211213484329
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 74,
          "label": "图像"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 45,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            41
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 27,
      "type": "KSampler",
      "pos": [
        6640,
        5854.211213484329
      ],
      "size": [
        315,
        262
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 38,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 39,
          "label": "正面条件",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 40,
          "label": "负面条件",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 41,
          "label": "Latent",
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            52
          ],
          "shape": 3,
          "label": "Latent",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        1048664669405254,
        "randomize",
        30,
        1.5,
        "dpmpp_sde",
        "karras",
        0.15
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 34,
      "type": "UpscaleModelLoader",
      "pos": [
        7020,
        5984.211213484329
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            88
          ],
          "shape": 3,
          "label": "放大模型"
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "4x-UltraSharp.pth"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 33,
      "type": "VAEDecode",
      "pos": [
        7090,
        5824.211213484329
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 52,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 53,
          "label": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            83
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 38,
      "type": "PreviewImage",
      "pos": [
        4129,
        6958
      ],
      "size": [
        1220.0667724609375,
        1734.3096923828125
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 89,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 20,
      "type": "Note",
      "pos": [
        5469,
        5737.581802394408
      ],
      "size": {
        "0": 345.8735656738281,
        "1": 151.47923278808594
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "gray_scale：启用灰度模式。如果为 true，则输出将采用灰度。\ngrain_type：设置颗粒类型。值可以是 Fine、Fine Simple、Arsed 或 Corougher。\ngrain_sat:颗粒颜色饱和度，范围为0至1\ngrain_power：颗粒效应的整体强度。\nshadows:阴影中的颗粒强度。\nhighs:高光中的颗粒强度。\nscale:图像缩放比例。在应用颗粒之前缩放图像，然后缩放。\nsharpen:锐化刀路数。\nsrc_gamma:施加到输入的伽马补偿。"
      ],
      "color": "rgba(0,0,0,.8)",
      "bgcolor": "#653"
    },
    {
      "id": 1,
      "type": "ImageResize",
      "pos": [
        3204,
        4924
      ],
      "size": [
        315,
        246
      ],
      "flags": {
        "pinned": false
      },
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 25,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "label": "遮罩(可选)"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            80
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResize",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "resize only",
        2000,
        0,
        0,
        "reduce size only",
        "4:3",
        0.5,
        20
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 3,
      "type": "FaceDetailer",
      "pos": [
        4504,
        5178
      ],
      "size": [
        390.7557067871094,
        880
      ],
      "flags": {
        "pinned": false
      },
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 82,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 4,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 5,
          "label": "CLIP"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 27,
          "label": "VAE",
          "slot_index": 3
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 28,
          "label": "正面条件",
          "slot_index": 4
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 29,
          "label": "负面条件",
          "slot_index": 5
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 6,
          "label": "BBox检测",
          "slot_index": 6
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 7,
          "label": "SAM模型",
          "slot_index": 7
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 8,
          "label": "Segm检测",
          "slot_index": 8
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "label": "细化约束"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            9,
            16,
            37
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": [],
          "shape": 6,
          "label": "细化图像",
          "slot_index": 1
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3,
          "label": "细化节点束"
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "label": "ControlNet图像"
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        256,
        true,
        768,
        949984389904286,
        "randomize",
        30,
        1.5,
        "dpmpp_2m_sde",
        "karras",
        0.3,
        5,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        192,
        0.7,
        "False",
        10,
        "",
        1,
        false,
        0
      ],
      "color": "rgba(0,0,0,.8)",
      "locked": true
    },
    {
      "id": 51,
      "type": "ProPostFilmGrain",
      "pos": [
        7894,
        5045
      ],
      "size": [
        315,
        298
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 90,
          "label": "image",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            75
          ],
          "shape": 3,
          "label": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ProPostFilmGrain",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        false,
        "Fine",
        0.5,
        0.1,
        0.2,
        0.2,
        1,
        0,
        1,
        985,
        "randomize"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 21,
      "type": "LoadImage",
      "pos": [
        1508,
        4807
      ],
      "size": [
        1238.5137939453125,
        1686.51123046875
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            25
          ],
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "surenjike_A_stunning_beauty_from_the_Tang_Dynasty_adorned_in_an_b05b6ddb-d396-4626-ad0d-011d2c1a6e59.png",
        "image"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 22,
      "type": "CheckpointLoaderSimple",
      "pos": [
        3473,
        5735.581802394408
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            26
          ],
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            30,
            31
          ],
          "shape": 3,
          "label": "CLIP"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            27
          ],
          "shape": 3,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "1.5模型\\majicMIX realistic 麦橘写实_v7.safetensors"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 16,
      "type": "LoraLoader",
      "pos": [
        4020,
        5333.581802394408
      ],
      "size": [
        296.2977294921875,
        126
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 26,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 17,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            4
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            5
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoraLoader",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "1.safetensors",
        0.7000000000000001,
        1
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 23,
      "type": "CLIPTextEncode",
      "pos": [
        4020,
        4938.581802394408
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 30,
          "label": "CLIP",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            28
          ],
          "shape": 3,
          "label": "条件"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "smile,(smile:1.2)"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 28,
      "type": "CheckpointLoaderSimple",
      "pos": [
        5970,
        5074.211213484329
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            54
          ],
          "shape": 3,
          "label": "模型"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            55
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            45,
            53,
            87
          ],
          "shape": 3,
          "label": "VAE",
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "1.5模型\\majicMIX realistic 麦橘写实_v7.safetensors"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 35,
      "type": "CR Load LoRA",
      "pos": [
        6380,
        5034.211213484329
      ],
      "size": [
        339.1977233886719,
        170
      ],
      "flags": {
        "pinned": false
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 54,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 55,
          "label": "CLIP"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            56
          ],
          "shape": 3,
          "label": "模型",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            57
          ],
          "shape": 3,
          "label": "CLIP",
          "slot_index": 1
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": [],
          "shape": 3,
          "slot_index": 2,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Load LoRA"
      },
      "widgets_values": [
        "Off",
        "None",
        0.5,
        1
      ],
      "color": "rgba(0,0,0,.8)",
      "locked": true
    },
    {
      "id": 54,
      "type": "ReActorFaceSwap",
      "pos": [
        3630,
        4860
      ],
      "size": {
        "0": 315,
        "1": 338
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "input_image",
          "type": "IMAGE",
          "link": 80,
          "label": "目标图像"
        },
        {
          "name": "source_image",
          "type": "IMAGE",
          "link": 81,
          "label": "源图像"
        },
        {
          "name": "face_model",
          "type": "FACE_MODEL",
          "link": null,
          "label": "面部模型"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            82
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "FACE_MODEL",
          "type": "FACE_MODEL",
          "links": null,
          "shape": 3,
          "label": "面部模型"
        }
      ],
      "properties": {
        "Node name for S&R": "ReActorFaceSwap",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        true,
        "inswapper_128.onnx",
        "retinaface_resnet50",
        "none",
        1,
        0.5,
        "no",
        "no",
        "0",
        "0",
        1
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 15,
      "type": "SaveImage",
      "pos": [
        -240,
        6995
      ],
      "size": [
        1333.129638671875,
        1689.3883056640625
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 16,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 25,
      "type": "LoadImage",
      "pos": [
        -320,
        4817
      ],
      "size": [
        1242.2144775390625,
        1649.580322265625
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            81
          ],
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "surenjike_A_Chinese_beauty_wearing_a_black_feather_dress_in_a_h_7ce51474-06d4-40ed-90c4-9958671d849f (1).png",
        "image"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 14,
      "type": "ProPostFilmGrain",
      "pos": [
        4969,
        5782.581802394408
      ],
      "size": [
        315,
        298
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 37,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            70,
            71
          ],
          "shape": 3,
          "label": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ProPostFilmGrain",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        false,
        "Fine",
        0.5,
        0.1,
        0.2,
        0.2,
        1,
        0,
        1,
        23,
        "randomize"
      ],
      "color": "#232",
      "bgcolor": "#353",
      "locked": true
    },
    {
      "id": 55,
      "type": "UltimateSDUpscale",
      "pos": [
        7590,
        5620
      ],
      "size": [
        315,
        614
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 83,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 84,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 85,
          "label": "正面条件"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 86,
          "label": "负面条件"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 87,
          "label": "VAE"
        },
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 88,
          "label": "放大模型"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            89,
            90
          ],
          "shape": 3,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "UltimateSDUpscale"
      },
      "widgets_values": {
        "upscale_by": 2,
        "seed": 0,
        "steps": 20,
        "cfg": 8,
        "sampler_name": "euler",
        "scheduler": "normal",
        "denoise": 0.2,
        "mode_type": "Linear",
        "tile_width": 512,
        "tile_height": 512,
        "mask_blur": 8,
        "tile_padding": 32,
        "seam_fix_mode": "None",
        "seam_fix_denoise": 1,
        "seam_fix_width": 64,
        "seam_fix_mask_blur": 8,
        "seam_fix_padding": 16,
        "force_uniform_tiles": true,
        "tiled_decode": false
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 49,
      "type": "Preview Chooser",
      "pos": [
        1840,
        6860
      ],
      "size": [
        1436.6868896484375,
        1736.46728515625
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 70,
          "label": "图像"
        },
        {
          "name": "latents",
          "type": "LATENT",
          "link": null,
          "label": "Latent"
        },
        {
          "name": "masks",
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            72,
            73,
            74
          ],
          "shape": 3,
          "label": "图像",
          "slot_index": 0
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": null,
          "shape": 3,
          "label": "Latent"
        },
        {
          "name": "masks",
          "type": "MASK",
          "links": null,
          "shape": 3
        },
        {
          "name": "selected",
          "type": "STRING",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Preview Chooser",
        "ttNbgOverride": {
          "color": "#232",
          "bgcolor": "#353",
          "groupcolor": "#8A8"
        }
      },
      "widgets_values": [
        "Always pause",
        6,
        "",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      4,
      16,
      0,
      3,
      1,
      "MODEL"
    ],
    [
      5,
      16,
      1,
      3,
      2,
      "CLIP"
    ],
    [
      6,
      6,
      0,
      3,
      6,
      "BBOX_DETECTOR"
    ],
    [
      7,
      7,
      0,
      3,
      7,
      "SAM_MODEL"
    ],
    [
      8,
      5,
      1,
      3,
      8,
      "SEGM_DETECTOR"
    ],
    [
      9,
      3,
      0,
      8,
      0,
      "IMAGE"
    ],
    [
      16,
      3,
      0,
      15,
      0,
      "IMAGE"
    ],
    [
      17,
      4,
      0,
      16,
      1,
      "CLIP"
    ],
    [
      25,
      21,
      0,
      1,
      0,
      "IMAGE"
    ],
    [
      26,
      22,
      0,
      16,
      0,
      "MODEL"
    ],
    [
      27,
      22,
      2,
      3,
      3,
      "VAE"
    ],
    [
      28,
      23,
      0,
      3,
      4,
      "CONDITIONING"
    ],
    [
      29,
      24,
      0,
      3,
      5,
      "CONDITIONING"
    ],
    [
      30,
      22,
      1,
      23,
      0,
      "CLIP"
    ],
    [
      31,
      22,
      1,
      24,
      0,
      "CLIP"
    ],
    [
      37,
      3,
      0,
      14,
      0,
      "IMAGE"
    ],
    [
      38,
      37,
      0,
      27,
      0,
      "MODEL"
    ],
    [
      39,
      42,
      0,
      27,
      1,
      "CONDITIONING"
    ],
    [
      40,
      30,
      0,
      27,
      2,
      "CONDITIONING"
    ],
    [
      41,
      31,
      0,
      27,
      3,
      "LATENT"
    ],
    [
      42,
      37,
      1,
      29,
      0,
      "CLIP"
    ],
    [
      43,
      37,
      1,
      30,
      0,
      "CLIP"
    ],
    [
      45,
      28,
      2,
      31,
      1,
      "VAE"
    ],
    [
      52,
      27,
      0,
      33,
      0,
      "LATENT"
    ],
    [
      53,
      28,
      2,
      33,
      1,
      "VAE"
    ],
    [
      54,
      28,
      0,
      35,
      0,
      "MODEL"
    ],
    [
      55,
      28,
      1,
      35,
      1,
      "CLIP"
    ],
    [
      56,
      35,
      0,
      36,
      0,
      "MODEL"
    ],
    [
      57,
      35,
      1,
      36,
      1,
      "CLIP"
    ],
    [
      58,
      36,
      0,
      37,
      0,
      "MODEL"
    ],
    [
      59,
      36,
      1,
      37,
      1,
      "CLIP"
    ],
    [
      62,
      29,
      0,
      40,
      0,
      "CONDITIONING"
    ],
    [
      63,
      41,
      0,
      40,
      1,
      "CONTROL_NET"
    ],
    [
      64,
      43,
      0,
      40,
      2,
      "IMAGE"
    ],
    [
      65,
      40,
      0,
      42,
      0,
      "CONDITIONING"
    ],
    [
      66,
      45,
      0,
      42,
      1,
      "CONTROL_NET"
    ],
    [
      67,
      44,
      0,
      42,
      2,
      "IMAGE"
    ],
    [
      70,
      14,
      0,
      49,
      0,
      "IMAGE"
    ],
    [
      71,
      14,
      0,
      50,
      0,
      "IMAGE"
    ],
    [
      72,
      49,
      0,
      44,
      0,
      "IMAGE"
    ],
    [
      73,
      49,
      0,
      43,
      0,
      "IMAGE"
    ],
    [
      74,
      49,
      0,
      31,
      0,
      "IMAGE"
    ],
    [
      75,
      51,
      0,
      52,
      0,
      "IMAGE"
    ],
    [
      80,
      1,
      0,
      54,
      0,
      "IMAGE"
    ],
    [
      81,
      25,
      0,
      54,
      1,
      "IMAGE"
    ],
    [
      82,
      54,
      0,
      3,
      0,
      "IMAGE"
    ],
    [
      83,
      33,
      0,
      55,
      0,
      "IMAGE"
    ],
    [
      84,
      37,
      0,
      55,
      1,
      "MODEL"
    ],
    [
      85,
      42,
      0,
      55,
      2,
      "CONDITIONING"
    ],
    [
      86,
      30,
      0,
      55,
      3,
      "CONDITIONING"
    ],
    [
      87,
      28,
      2,
      55,
      4,
      "VAE"
    ],
    [
      88,
      34,
      0,
      55,
      5,
      "UPSCALE_MODEL"
    ],
    [
      89,
      55,
      0,
      38,
      0,
      "IMAGE"
    ],
    [
      90,
      55,
      0,
      51,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "人物面部",
      "bounding": [
        -581,
        4566,
        1701,
        1966
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "目标图像",
      "bounding": [
        1121,
        4563,
        1912,
        1971
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "第一次预览",
      "bounding": [
        -585,
        6543,
        2102,
        2293
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "选择放大",
      "bounding": [
        1516,
        6544,
        2131,
        2299
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "放大结果",
      "bounding": [
        3655,
        6548,
        2312,
        2294
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "最终结果",
      "bounding": [
        5976,
        6551,
        2345,
        2298
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "参数设置",
      "bounding": [
        3038,
        4569,
        2910,
        1969
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "高清区域",
      "bounding": [
        5947,
        4563,
        2372,
        1981
      ],
      "color": "#3f789e",
      "font_size": 150,
      "locked": true
    },
    {
      "title": "AIX特征迁移9.0",
      "bounding": [
        2697,
        4152,
        2106,
        421
      ],
      "color": "#3f789e",
      "font_size": 300,
      "locked": true
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.10000000000000099,
      "offset": {
        "0": 10588.187933543919,
        "1": -1130.7035478711332
      }
    }
  },
  "version": 0.4
}