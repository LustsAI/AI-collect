{
  "last_node_id": 150,
  "last_link_id": 277,
  "nodes": [
    {
      "id": 57,
      "type": "ImageSharpen",
      "pos": [
        1675.5647038085947,
        222.42120335937494
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {
        "pinned": true
      },
      "order": 22,
      "mode": 2,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 277,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            266
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageSharpen"
      },
      "widgets_values": [
        1,
        0.5,
        0.30000000000000004
      ],
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 70,
      "type": "VAEDecode",
      "pos": [
        1687.5647038085947,
        -741.5787966406255
      ],
      "size": {
        "0": 303.8965148925781,
        "1": 58.19807052612305
      },
      "flags": {
        "pinned": true
      },
      "order": 14,
      "mode": 2,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 164,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 145,
          "slot_index": 1,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            175
          ],
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#2e571a",
      "bgcolor": "#426b2e"
    },
    {
      "id": 55,
      "type": "UpscaleModelLoader",
      "pos": [
        1679.5647038085947,
        104.42120335937506
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "pinned": true
      },
      "order": 0,
      "mode": 2,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            78
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "放大模型"
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "4x_foolhardy_Remacri.pth"
      ],
      "color": "#571a1a",
      "bgcolor": "#6b2e2e"
    },
    {
      "id": 54,
      "type": "UltimateSDUpscale",
      "pos": [
        1680.5647038085947,
        -599.5787966406253
      ],
      "size": {
        "0": 311.4963073730469,
        "1": 802
      },
      "flags": {
        "pinned": true
      },
      "order": 18,
      "mode": 2,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 177,
          "label": "image"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 276,
          "slot_index": 1,
          "label": "model"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 148,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 149,
          "slot_index": 3,
          "label": "negative"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 150,
          "slot_index": 4,
          "label": "vae"
        },
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 78,
          "label": "upscale_model"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            277
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "UltimateSDUpscale"
      },
      "widgets_values": [
        2,
        151852551303887,
        "randomize",
        30,
        7,
        "dpmpp_2m",
        "karras",
        0.3,
        "Linear",
        512,
        512,
        8,
        32,
        "None",
        1,
        64,
        8,
        16,
        false,
        false
      ]
    },
    {
      "id": 96,
      "type": "UpscaleModelLoader",
      "pos": [
        1677.36417890625,
        1294.9688891147189
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "pinned": false
      },
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            162
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "放大模型"
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "4x_foolhardy_Remacri.pth"
      ],
      "color": "#571a1a",
      "bgcolor": "#6b2e2e"
    },
    {
      "id": 95,
      "type": "UltimateSDUpscale",
      "pos": [
        1678.36417890625,
        588.968889114718
      ],
      "size": {
        "0": 311.4963073730469,
        "1": 802
      },
      "flags": {
        "pinned": false
      },
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 179,
          "label": "image"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 274,
          "slot_index": 1,
          "label": "model"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 166,
          "slot_index": 2,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 167,
          "slot_index": 3,
          "label": "negative"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 168,
          "slot_index": 4,
          "label": "vae"
        },
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 162,
          "label": "upscale_model"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            161
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "UltimateSDUpscale"
      },
      "widgets_values": [
        2,
        541372009043704,
        "randomize",
        30,
        7,
        "dpmpp_2m",
        "karras",
        0.3,
        "Linear",
        512,
        512,
        8,
        32,
        "None",
        1,
        64,
        8,
        16,
        false,
        false
      ]
    },
    {
      "id": 104,
      "type": "PreviewImage",
      "pos": [
        524,
        68
      ],
      "size": {
        "0": 226.59495544433594,
        "1": 260.2012939453125
      },
      "flags": {},
      "order": 19,
      "mode": 2,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 191,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 105,
      "type": "PreviewImage",
      "pos": [
        810,
        66
      ],
      "size": {
        "0": 223.59495544433594,
        "1": 256.2012939453125
      },
      "flags": {},
      "order": 20,
      "mode": 2,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 192,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 98,
      "type": "FaceDetailer",
      "pos": [
        1072,
        -748
      ],
      "size": {
        "0": 500.2965087890625,
        "1": 1086.611572265625
      },
      "flags": {},
      "order": 16,
      "mode": 2,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 175,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 272,
          "slot_index": 1,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 173,
          "slot_index": 2,
          "label": "CLIP"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 187,
          "slot_index": 3,
          "label": "VAE"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 174,
          "slot_index": 4,
          "label": "正面提示词"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 188,
          "slot_index": 5,
          "label": "负面提示词"
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 171,
          "slot_index": 6,
          "label": "BBox检测"
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": null,
          "label": "SAM模型"
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 172,
          "label": "Segm检测"
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "slot_index": 9
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            177
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": [
            191
          ],
          "shape": 6,
          "slot_index": 1,
          "label": "细化图像"
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": [
            192
          ],
          "shape": 6,
          "slot_index": 2,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": [],
          "shape": 3,
          "slot_index": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3,
          "slot_index": 4,
          "label": "细化节点束"
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        256,
        true,
        768,
        297904716737521,
        "randomize",
        20,
        8,
        "dpmpp_2m",
        "karras",
        0.5,
        5,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1
      ]
    },
    {
      "id": 97,
      "type": "ImageSharpen",
      "pos": [
        1673.36417890625,
        1428.9688891147189
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {
        "pinned": false
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 161,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            264,
            265
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageSharpen"
      },
      "widgets_values": [
        1,
        0.5,
        0.30000000000000004
      ],
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 148,
      "type": "PreviewImage",
      "pos": [
        2047,
        -761
      ],
      "size": {
        "0": 758.7020263671875,
        "1": 1108.415283203125
      },
      "flags": {},
      "order": 24,
      "mode": 2,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 266,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 147,
      "type": "PreviewImage",
      "pos": [
        2052,
        446
      ],
      "size": {
        "0": 757.5086669921875,
        "1": 1098.2393798828125
      },
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 265,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 94,
      "type": "VAEDecode",
      "pos": [
        1679.36417890625,
        464.96888911471797
      ],
      "size": {
        "0": 303.8965148925781,
        "1": 58.19807052612305
      },
      "flags": {
        "pinned": false
      },
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 163,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 170,
          "slot_index": 1,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            178
          ],
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#2e571a",
      "bgcolor": "#426b2e"
    },
    {
      "id": 100,
      "type": "MediaPipeFaceMeshDetectorProvider //Inspire",
      "pos": [
        531,
        929
      ],
      "size": {
        "0": 348.81964111328125,
        "1": 290.4441833496094
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            180
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "BBOX_DETECTOR"
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            181
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "SEGM_DETECTOR"
        }
      ],
      "properties": {
        "Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"
      },
      "widgets_values": [
        10,
        true,
        true,
        false,
        true,
        false,
        false,
        true,
        false
      ]
    },
    {
      "id": 102,
      "type": "PreviewImage",
      "pos": [
        470,
        1240
      ],
      "size": {
        "0": 237.10255432128906,
        "1": 330.0596008300781
      },
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 189,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 103,
      "type": "PreviewImage",
      "pos": [
        764,
        1241
      ],
      "size": {
        "0": 251.28854370117188,
        "1": 327.0596008300781
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 190,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 79,
      "type": "VAEDecode",
      "pos": [
        599,
        -410
      ],
      "size": {
        "0": 346.4886474609375,
        "1": 73.23518371582031
      },
      "flags": {
        "pinned": false
      },
      "order": 13,
      "mode": 2,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 126,
          "label": "Latent"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 125,
          "label": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            154
          ],
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#2e571a",
      "bgcolor": "#426b2e"
    },
    {
      "id": 75,
      "type": "KSampler",
      "pos": [
        547,
        -758
      ],
      "size": {
        "0": 357.48162841796875,
        "1": 446
      },
      "flags": {},
      "order": 12,
      "mode": 2,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 271,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 121,
          "label": "正面提示词"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 122,
          "label": "负面提示词"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 124,
          "label": "Latent"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 119,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            126,
            164
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        319751094095392,
        "randomize",
        30,
        7,
        "dpmpp_2m",
        "karras",
        1
      ],
      "color": "#57571a",
      "bgcolor": "#6b6b2e"
    },
    {
      "id": 99,
      "type": "MediaPipeFaceMeshDetectorProvider //Inspire",
      "pos": [
        584,
        -269
      ],
      "size": {
        "0": 348.81964111328125,
        "1": 290.4441833496094
      },
      "flags": {},
      "order": 3,
      "mode": 2,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            171
          ],
          "shape": 3,
          "label": "BBOX_DETECTOR"
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            172
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "SEGM_DETECTOR"
        }
      ],
      "properties": {
        "Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"
      },
      "widgets_values": [
        10,
        true,
        true,
        false,
        true,
        false,
        false,
        true,
        false
      ]
    },
    {
      "id": 80,
      "type": "KSampler",
      "pos": [
        538,
        450
      ],
      "size": {
        "0": 341.9502258300781,
        "1": 446
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 138,
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 128,
          "label": "正面提示词"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 129,
          "slot_index": 2,
          "label": "负面提示词"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 131,
          "label": "Latent"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 132,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            163
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Latent"
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        869560258466865,
        "randomize",
        30,
        7,
        "dpmpp_2m",
        "karras",
        1
      ],
      "color": "#57571a",
      "bgcolor": "#6b6b2e"
    },
    {
      "id": 87,
      "type": "CLIPVisionLoader",
      "pos": [
        60,
        198
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 4,
      "mode": 2,
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            142
          ],
          "shape": 3,
          "label": "CLIP视觉"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader"
      },
      "widgets_values": [
        "SD1.5\\pytorch_model.bin"
      ],
      "color": "#571a1a",
      "bgcolor": "#6b2e2e"
    },
    {
      "id": 85,
      "type": "IPAdapter",
      "pos": [
        32,
        -104
      ],
      "size": {
        "0": 380.4000244140625,
        "1": 166
      },
      "flags": {},
      "order": 15,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 270,
          "slot_index": 0
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 154,
          "slot_index": 1
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 142,
          "slot_index": 2
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": null,
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            138
          ],
          "shape": 3
        },
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "links": [],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapter"
      },
      "widgets_values": [
        0.3,
        "ip-adapter_sd15_light.bin",
        "fp16"
      ]
    },
    {
      "id": 150,
      "type": "FreeU_V2",
      "pos": [
        59,
        -746
      ],
      "size": {
        "0": 315,
        "1": 130
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 269,
          "label": "model"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            270,
            271,
            272,
            273,
            274,
            275,
            276
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "MODEL"
        }
      ],
      "properties": {
        "Node name for S&R": "FreeU_V2"
      },
      "widgets_values": [
        1.5,
        1.6,
        0.9,
        0.2
      ]
    },
    {
      "id": 110,
      "type": "PreviewImage",
      "pos": [
        2839,
        836
      ],
      "size": {
        "0": 465.3824462890625,
        "1": 672.950439453125
      },
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 197,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 114,
      "type": "MediaPipeFaceMeshDetectorProvider //Inspire",
      "pos": [
        3935,
        526
      ],
      "size": {
        "0": 312.8346862792969,
        "1": 287.9688415527344
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            205
          ],
          "shape": 3,
          "label": "BBOX_DETECTOR"
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            206
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "SEGM_DETECTOR"
        }
      ],
      "properties": {
        "Node name for S&R": "MediaPipeFaceMeshDetectorProvider //Inspire"
      },
      "widgets_values": [
        10,
        false,
        true,
        false,
        true,
        false,
        false,
        true,
        false
      ]
    },
    {
      "id": 118,
      "type": "SAMLoader",
      "pos": [
        3933,
        860
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            217
          ],
          "shape": 3,
          "label": "SAM模型"
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "AUTO"
      ],
      "color": "#571a1a",
      "bgcolor": "#6b2e2e"
    },
    {
      "id": 116,
      "type": "PreviewImage",
      "pos": [
        4063,
        1013
      ],
      "size": {
        "0": 195.69448852539062,
        "1": 253.7516326904297
      },
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 208,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 115,
      "type": "PreviewImage",
      "pos": [
        3865,
        1013
      ],
      "size": {
        "0": 190.037109375,
        "1": 246.83726501464844
      },
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 207,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 129,
      "type": "UltimateSDUpscaleNoUpscale",
      "pos": [
        4305,
        452
      ],
      "size": {
        "0": 315,
        "1": 730
      },
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "upscaled_image",
          "type": "IMAGE",
          "link": 237,
          "label": "upscaled_image"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 229,
          "label": "model"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 230,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 231,
          "label": "negative"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 232,
          "label": "vae"
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 235,
          "widget": {
            "name": "seed"
          },
          "label": "seed"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            233,
            239,
            254
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "UltimateSDUpscaleNoUpscale"
      },
      "widgets_values": [
        829906758775422,
        "randomize",
        20,
        8,
        "dpmpp_2m",
        "karras",
        0.25,
        "Linear",
        512,
        512,
        8,
        32,
        "None",
        0.35000000000000003,
        64,
        8,
        16,
        false,
        false
      ]
    },
    {
      "id": 132,
      "type": "ImageCompositeMasked",
      "pos": [
        4650,
        461
      ],
      "size": {
        "0": 315,
        "1": 146
      },
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "IMAGE",
          "link": 250,
          "label": "目标图像"
        },
        {
          "name": "source",
          "type": "IMAGE",
          "link": 239,
          "label": "源图像"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 249,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            252
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCompositeMasked"
      },
      "widgets_values": [
        0,
        0,
        false
      ],
      "color": "#1a5743",
      "bgcolor": "#2e6b57"
    },
    {
      "id": 143,
      "type": "ImageCompositeMasked",
      "pos": [
        4652,
        650
      ],
      "size": {
        "0": 315,
        "1": 146
      },
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "IMAGE",
          "link": 261,
          "label": "目标图像"
        },
        {
          "name": "source",
          "type": "IMAGE",
          "link": 260,
          "label": "源图像"
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": null,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            262
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCompositeMasked"
      },
      "widgets_values": [
        0,
        0,
        false
      ],
      "color": "#1a5743",
      "bgcolor": "#2e6b57"
    },
    {
      "id": 141,
      "type": "ImageInvert",
      "pos": [
        4658,
        840
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 254,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            260
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageInvert"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 139,
      "type": "ImageInvert",
      "pos": [
        4654,
        915
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 252,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            261
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageInvert"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 145,
      "type": "ImageInvert",
      "pos": [
        4798,
        1524
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 262,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            267
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageInvert"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 119,
      "type": "MaskToImage",
      "pos": [
        4657,
        987
      ],
      "size": {
        "0": 202.77110290527344,
        "1": 31.548173904418945
      },
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 221,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      },
      "color": "#1a5743",
      "bgcolor": "#2e6b57"
    },
    {
      "id": 121,
      "type": "InvertMask",
      "pos": [
        4656,
        1065
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 220,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            221
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "InvertMask"
      },
      "color": "#1a5743",
      "bgcolor": "#2e6b57"
    },
    {
      "id": 136,
      "type": "MaskToImage",
      "pos": [
        4666,
        1135
      ],
      "size": {
        "0": 202.77110290527344,
        "1": 31.548173904418945
      },
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 248,
          "label": "遮罩"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            250
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      },
      "color": "#1a5743",
      "bgcolor": "#2e6b57"
    },
    {
      "id": 133,
      "type": "ImageInvert",
      "pos": [
        4673,
        1204
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 242,
          "label": "图像"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            243
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageInvert"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 135,
      "type": "PreviewImage",
      "pos": [
        4313,
        1301
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 243,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 131,
      "type": "PreviewImage",
      "pos": [
        4542,
        1310
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 241,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 126,
      "type": "PreviewImage",
      "pos": [
        5048,
        -1
      ],
      "size": {
        "0": 1028.5921630859375,
        "1": 1568.9293212890625
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 233,
          "label": "图像"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 74,
      "type": "Seed Generator",
      "pos": [
        70,
        -439
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            119,
            132,
            214,
            235
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "Seed Generator"
      },
      "widgets_values": [
        331953318685553,
        "increment"
      ]
    },
    {
      "id": 108,
      "type": "ReActorFaceSwap",
      "pos": [
        2848,
        451
      ],
      "size": {
        "0": 315,
        "1": 338
      },
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "input_image",
          "type": "IMAGE",
          "link": 264,
          "label": "input_image"
        },
        {
          "name": "source_image",
          "type": "IMAGE",
          "link": 196,
          "slot_index": 1,
          "label": "source_image"
        },
        {
          "name": "face_model",
          "type": "FACE_MODEL",
          "link": null,
          "label": "face_model"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            197,
            237,
            245
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        },
        {
          "name": "FACE_MODEL",
          "type": "FACE_MODEL",
          "links": null,
          "shape": 3,
          "label": "FACE_MODEL"
        }
      ],
      "properties": {
        "Node name for S&R": "ReActorFaceSwap"
      },
      "widgets_values": [
        true,
        "inswapper_128_fp16.onnx",
        "retinaface_resnet50",
        "GFPGANv1.4.pth",
        1,
        0.5,
        "no",
        "no",
        "0",
        "0",
        2
      ]
    },
    {
      "id": 113,
      "type": "FaceDetailer",
      "pos": [
        3350,
        456
      ],
      "size": {
        "0": 500.2965087890625,
        "1": 1086.611572265625
      },
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 245,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 275,
          "slot_index": 1,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 216,
          "slot_index": 2,
          "label": "CLIP"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 213,
          "slot_index": 3,
          "label": "VAE"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 211,
          "slot_index": 4,
          "label": "正面提示词"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 212,
          "slot_index": 5,
          "label": "负面提示词"
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 205,
          "slot_index": 6,
          "label": "BBox检测"
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 217,
          "slot_index": 7,
          "label": "SAM模型"
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 206,
          "label": "Segm检测"
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "slot_index": 9
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 214,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            241,
            242
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": [
            207
          ],
          "shape": 6,
          "slot_index": 1,
          "label": "细化图像"
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": [
            208
          ],
          "shape": 6,
          "slot_index": 2,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            220,
            248,
            249
          ],
          "shape": 3,
          "slot_index": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3,
          "slot_index": 4,
          "label": "细化节点束"
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        256,
        true,
        768,
        655433607943188,
        "randomize",
        20,
        8,
        "dpmpp_2m",
        "karras",
        0.65,
        5,
        true,
        true,
        0.2,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1
      ]
    },
    {
      "id": 109,
      "type": "LoadImage",
      "pos": [
        -193.8048906478234,
        -56.684933461955545
      ],
      "size": {
        "0": 315,
        "1": 314
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            196
          ],
          "shape": 3,
          "label": "图像"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "遮罩"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "85478214-eaf4192aacf5ab94a2d14a876861fdd247ba884f0400c0c7db538246608d1cb6 (9).png",
        "image"
      ],
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 62,
      "type": "Efficient Loader",
      "pos": [
        -1113.8048906478234,
        -840.6849334619553
      ],
      "size": {
        "0": 640,
        "1": 870
      },
      "flags": {
        "pinned": false
      },
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": 102,
          "label": "Lora堆"
        },
        {
          "name": "cnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": null,
          "label": "ControlNet堆"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            229,
            269
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "模型"
        },
        {
          "name": "CONDITIONING+",
          "type": "CONDITIONING",
          "links": [
            121,
            128,
            148,
            166,
            174,
            184,
            211,
            230
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "正面条件"
        },
        {
          "name": "CONDITIONING-",
          "type": "CONDITIONING",
          "links": [
            122,
            129,
            149,
            167,
            185,
            188,
            212,
            231
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "负面条件"
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            124,
            131
          ],
          "shape": 3,
          "slot_index": 3,
          "label": "Latent"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            125,
            145,
            150,
            168,
            170,
            186,
            187,
            213,
            232
          ],
          "shape": 3,
          "slot_index": 4,
          "label": "VAE"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            173,
            183,
            216
          ],
          "shape": 3,
          "slot_index": 5,
          "label": "CLIP"
        },
        {
          "name": "DEPENDENCIES",
          "type": "DEPENDENCIES",
          "links": null,
          "shape": 3,
          "slot_index": 6,
          "label": "依赖"
        }
      ],
      "properties": {
        "Node name for S&R": "Efficient Loader"
      },
      "widgets_values": [
        "None-高清人像特写_V1.safetensors",
        "vae-ft-mse-840000-ema-pruned.safetensors",
        -1,
        "sd1.5_pytorch_lora_weights.safetensors",
        0.8,
        0.8,
        "masterpiece, best quality, (colorful), dim lighting, extremely detailed CG unity 8k wallpaper, (chubby:1.2), beautiful detailed face, extremely delicate and beautiful, (on bed:1.1), straight dark hair, small breasts, photo of a young girl, (freckles:0.6), smiling, various colors of lingerie, various colors of negligee, relaxed, content, soft, masterpiece, volumetric light, best quality, complimentary colors, dramatic lighting, intricate details, subsurface scattering, (cheekbones:1.3)",
        "(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy, bad hands, mutated, deformed, bad proportions, blurry, distorted, text, signature, logo, username, closed eyes,  mosaic censoring, censored, bar censor, (embedding:ERA09NegV1:1), (embedding:bad-artist:1), (embedding:bad-artist-anime:1), (embedding:bad-image-v2-39000:1), (embedding:badhandv4:1), (embedding:EasyNegative:1), (embedding:EasyNegativeV2:1), (embedding:bad_prompt_version2:1), signature, artist name, text, (animal ears:1.2), earrings, big breasts, arched back, legs crossed, skinny arms, skinny, hour glass figure, long torso",
        "none",
        "comfy",
        512,
        768,
        1
      ],
      "color": "#571a1a",
      "bgcolor": "#6b2e2e",
      "shape": 1
    },
    {
      "id": 65,
      "type": "LoRA Stacker",
      "pos": [
        -437.80489064782324,
        -647.6849334619553
      ],
      "size": {
        "0": 520,
        "1": 180
      },
      "flags": {
        "pinned": false
      },
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null,
          "label": "Lora堆"
        }
      ],
      "outputs": [
        {
          "name": "LORA_STACK",
          "type": "LORA_STACK",
          "links": [
            102
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "Lora堆"
        }
      ],
      "properties": {
        "Node name for S&R": "LoRA Stacker"
      },
      "widgets_values": [
        "simple",
        2,
        "sd1.5_pytorch_lora_weights.safetensors",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        0.7000000000000001,
        1,
        1,
        "None",
        0.6,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1,
        "None",
        1,
        1,
        1
      ],
      "color": "#222233",
      "bgcolor": "#333355",
      "shape": 1
    },
    {
      "id": 149,
      "type": "SaveImage",
      "pos": [
        7626.938302920135,
        -1388.8522882333925
      ],
      "size": {
        "0": 1042.5364990234375,
        "1": 1602.5782470703125
      },
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 267,
          "label": "图像"
        }
      ],
      "properties": {},
      "widgets_values": [
        "ComfyUI"
      ],
      "color": "#1a5757",
      "bgcolor": "#2e6b6b"
    },
    {
      "id": 101,
      "type": "FaceDetailer",
      "pos": [
        876.2875169759225,
        -1871.8374956926766
      ],
      "size": {
        "0": 475.0335388183594,
        "1": 1052
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 178,
          "label": "图像"
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 273,
          "slot_index": 1,
          "label": "模型"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 183,
          "slot_index": 2,
          "label": "CLIP"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 186,
          "slot_index": 3,
          "label": "VAE"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 184,
          "slot_index": 4,
          "label": "正面提示词"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 185,
          "slot_index": 5,
          "label": "负面提示词"
        },
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 180,
          "slot_index": 6,
          "label": "BBox检测"
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": null,
          "label": "SAM模型"
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 181,
          "label": "Segm检测"
        },
        {
          "name": "detailer_hook",
          "type": "DETAILER_HOOK",
          "link": null,
          "slot_index": 9
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            179
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "图像"
        },
        {
          "name": "cropped_refined",
          "type": "IMAGE",
          "links": [
            189
          ],
          "shape": 6,
          "slot_index": 1,
          "label": "细化图像"
        },
        {
          "name": "cropped_enhanced_alpha",
          "type": "IMAGE",
          "links": [
            190
          ],
          "shape": 6,
          "slot_index": 2,
          "label": "细化部分"
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": [],
          "shape": 3,
          "slot_index": 3,
          "label": "遮罩"
        },
        {
          "name": "detailer_pipe",
          "type": "DETAILER_PIPE",
          "links": null,
          "shape": 3,
          "slot_index": 4,
          "label": "细化节点束"
        },
        {
          "name": "cnet_images",
          "type": "IMAGE",
          "links": null,
          "shape": 6,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "FaceDetailer"
      },
      "widgets_values": [
        256,
        true,
        768,
        312921049296536,
        "randomize",
        20,
        8,
        "dpmpp_2m",
        "karras",
        0.5,
        5,
        true,
        true,
        0.5,
        10,
        3,
        "center-1",
        0,
        0.93,
        0,
        0.7,
        "False",
        10,
        "",
        1
      ]
    }
  ],
  "links": [
    [
      78,
      55,
      0,
      54,
      5,
      "UPSCALE_MODEL"
    ],
    [
      102,
      65,
      0,
      62,
      0,
      "LORA_STACK"
    ],
    [
      119,
      74,
      0,
      75,
      4,
      "INT"
    ],
    [
      121,
      62,
      1,
      75,
      1,
      "CONDITIONING"
    ],
    [
      122,
      62,
      2,
      75,
      2,
      "CONDITIONING"
    ],
    [
      124,
      62,
      3,
      75,
      3,
      "LATENT"
    ],
    [
      125,
      62,
      4,
      79,
      1,
      "VAE"
    ],
    [
      126,
      75,
      0,
      79,
      0,
      "LATENT"
    ],
    [
      128,
      62,
      1,
      80,
      1,
      "CONDITIONING"
    ],
    [
      129,
      62,
      2,
      80,
      2,
      "CONDITIONING"
    ],
    [
      131,
      62,
      3,
      80,
      3,
      "LATENT"
    ],
    [
      132,
      74,
      0,
      80,
      4,
      "INT"
    ],
    [
      138,
      85,
      0,
      80,
      0,
      "MODEL"
    ],
    [
      142,
      87,
      0,
      85,
      2,
      "CLIP_VISION"
    ],
    [
      145,
      62,
      4,
      70,
      1,
      "VAE"
    ],
    [
      148,
      62,
      1,
      54,
      2,
      "CONDITIONING"
    ],
    [
      149,
      62,
      2,
      54,
      3,
      "CONDITIONING"
    ],
    [
      150,
      62,
      4,
      54,
      4,
      "VAE"
    ],
    [
      154,
      79,
      0,
      85,
      1,
      "IMAGE"
    ],
    [
      161,
      95,
      0,
      97,
      0,
      "IMAGE"
    ],
    [
      162,
      96,
      0,
      95,
      5,
      "UPSCALE_MODEL"
    ],
    [
      163,
      80,
      0,
      94,
      0,
      "LATENT"
    ],
    [
      164,
      75,
      0,
      70,
      0,
      "LATENT"
    ],
    [
      166,
      62,
      1,
      95,
      2,
      "CONDITIONING"
    ],
    [
      167,
      62,
      2,
      95,
      3,
      "CONDITIONING"
    ],
    [
      168,
      62,
      4,
      95,
      4,
      "VAE"
    ],
    [
      170,
      62,
      4,
      94,
      1,
      "VAE"
    ],
    [
      171,
      99,
      0,
      98,
      6,
      "BBOX_DETECTOR"
    ],
    [
      172,
      99,
      1,
      98,
      8,
      "SEGM_DETECTOR"
    ],
    [
      173,
      62,
      5,
      98,
      2,
      "CLIP"
    ],
    [
      174,
      62,
      1,
      98,
      4,
      "CONDITIONING"
    ],
    [
      175,
      70,
      0,
      98,
      0,
      "IMAGE"
    ],
    [
      177,
      98,
      0,
      54,
      0,
      "IMAGE"
    ],
    [
      178,
      94,
      0,
      101,
      0,
      "IMAGE"
    ],
    [
      179,
      101,
      0,
      95,
      0,
      "IMAGE"
    ],
    [
      180,
      100,
      0,
      101,
      6,
      "BBOX_DETECTOR"
    ],
    [
      181,
      100,
      1,
      101,
      8,
      "SEGM_DETECTOR"
    ],
    [
      183,
      62,
      5,
      101,
      2,
      "CLIP"
    ],
    [
      184,
      62,
      1,
      101,
      4,
      "CONDITIONING"
    ],
    [
      185,
      62,
      2,
      101,
      5,
      "CONDITIONING"
    ],
    [
      186,
      62,
      4,
      101,
      3,
      "VAE"
    ],
    [
      187,
      62,
      4,
      98,
      3,
      "VAE"
    ],
    [
      188,
      62,
      2,
      98,
      5,
      "CONDITIONING"
    ],
    [
      189,
      101,
      1,
      102,
      0,
      "IMAGE"
    ],
    [
      190,
      101,
      2,
      103,
      0,
      "IMAGE"
    ],
    [
      191,
      98,
      1,
      104,
      0,
      "IMAGE"
    ],
    [
      192,
      98,
      2,
      105,
      0,
      "IMAGE"
    ],
    [
      196,
      109,
      0,
      108,
      1,
      "IMAGE"
    ],
    [
      197,
      108,
      0,
      110,
      0,
      "IMAGE"
    ],
    [
      205,
      114,
      0,
      113,
      6,
      "BBOX_DETECTOR"
    ],
    [
      206,
      114,
      1,
      113,
      8,
      "SEGM_DETECTOR"
    ],
    [
      207,
      113,
      1,
      115,
      0,
      "IMAGE"
    ],
    [
      208,
      113,
      2,
      116,
      0,
      "IMAGE"
    ],
    [
      211,
      62,
      1,
      113,
      4,
      "CONDITIONING"
    ],
    [
      212,
      62,
      2,
      113,
      5,
      "CONDITIONING"
    ],
    [
      213,
      62,
      4,
      113,
      3,
      "VAE"
    ],
    [
      214,
      74,
      0,
      113,
      10,
      "INT"
    ],
    [
      216,
      62,
      5,
      113,
      2,
      "CLIP"
    ],
    [
      217,
      118,
      0,
      113,
      7,
      "SAM_MODEL"
    ],
    [
      220,
      113,
      3,
      121,
      0,
      "MASK"
    ],
    [
      221,
      121,
      0,
      119,
      0,
      "MASK"
    ],
    [
      229,
      62,
      0,
      129,
      1,
      "MODEL"
    ],
    [
      230,
      62,
      1,
      129,
      2,
      "CONDITIONING"
    ],
    [
      231,
      62,
      2,
      129,
      3,
      "CONDITIONING"
    ],
    [
      232,
      62,
      4,
      129,
      4,
      "VAE"
    ],
    [
      233,
      129,
      0,
      126,
      0,
      "IMAGE"
    ],
    [
      235,
      74,
      0,
      129,
      5,
      "INT"
    ],
    [
      237,
      108,
      0,
      129,
      0,
      "IMAGE"
    ],
    [
      239,
      129,
      0,
      132,
      1,
      "IMAGE"
    ],
    [
      241,
      113,
      0,
      131,
      0,
      "IMAGE"
    ],
    [
      242,
      113,
      0,
      133,
      0,
      "IMAGE"
    ],
    [
      243,
      133,
      0,
      135,
      0,
      "IMAGE"
    ],
    [
      245,
      108,
      0,
      113,
      0,
      "IMAGE"
    ],
    [
      248,
      113,
      3,
      136,
      0,
      "MASK"
    ],
    [
      249,
      113,
      3,
      132,
      2,
      "MASK"
    ],
    [
      250,
      136,
      0,
      132,
      0,
      "IMAGE"
    ],
    [
      252,
      132,
      0,
      139,
      0,
      "IMAGE"
    ],
    [
      254,
      129,
      0,
      141,
      0,
      "IMAGE"
    ],
    [
      260,
      141,
      0,
      143,
      1,
      "IMAGE"
    ],
    [
      261,
      139,
      0,
      143,
      0,
      "IMAGE"
    ],
    [
      262,
      143,
      0,
      145,
      0,
      "IMAGE"
    ],
    [
      264,
      97,
      0,
      108,
      0,
      "IMAGE"
    ],
    [
      265,
      97,
      0,
      147,
      0,
      "IMAGE"
    ],
    [
      266,
      57,
      0,
      148,
      0,
      "IMAGE"
    ],
    [
      267,
      145,
      0,
      149,
      0,
      "IMAGE"
    ],
    [
      269,
      62,
      0,
      150,
      0,
      "MODEL"
    ],
    [
      270,
      150,
      0,
      85,
      0,
      "MODEL"
    ],
    [
      271,
      150,
      0,
      75,
      0,
      "MODEL"
    ],
    [
      272,
      150,
      0,
      98,
      1,
      "MODEL"
    ],
    [
      273,
      150,
      0,
      101,
      1,
      "MODEL"
    ],
    [
      274,
      150,
      0,
      95,
      1,
      "MODEL"
    ],
    [
      275,
      150,
      0,
      113,
      1,
      "MODEL"
    ],
    [
      276,
      150,
      0,
      54,
      1,
      "MODEL"
    ],
    [
      277,
      54,
      0,
      57,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "Ultimate SD Upscale",
      "bounding": [
        2036,
        -836,
        785,
        1199
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "Ultimate SD Upscale",
      "bounding": [
        1644,
        -837,
        384,
        1200
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Loader & LoRA",
      "bounding": [
        -1172,
        -927,
        1310,
        1197
      ],
      "color": "#a1309b",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "FreeU_V2",
      "bounding": [
        4,
        -838,
        433,
        279
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Seed",
      "bounding": [
        4,
        -554,
        435,
        296
      ],
      "color": "#8A8",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "IPAdapter",
      "bounding": [
        4,
        -250,
        434,
        613
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Sampler - FaceDetailer",
      "bounding": [
        442,
        -838,
        1195,
        1201
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Sampler - IPAdapter - FaceDetailer",
      "bounding": [
        442,
        368,
        1193,
        1206
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Ultimate SD Upscale - IPAdapter",
      "bounding": [
        1645,
        368,
        380,
        1200
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Ultimate SD Upscale - IPAdapter",
      "bounding": [
        2035,
        368,
        787,
        1198
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": true
    },
    {
      "title": "Face Swap",
      "bounding": [
        2830,
        370,
        493,
        1195
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Detailer Post-Swap",
      "bounding": [
        3332,
        370,
        945,
        1196
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Refine FaceSwap B4 pasting eyes and mouth",
      "bounding": [
        4284,
        369,
        736,
        1200
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}